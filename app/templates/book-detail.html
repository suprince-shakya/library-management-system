{% extends 'layout/base.html' %}

{% block content %}
<div class="container mx-auto">
  <div class="grid gap-2 sm:grid-cols-1 md:grid-cols-2 md:gap-6">
    <div class="flex flex-col md:h-[90vh] justify-center px-5 md:sticky md:top-5">
      <img src="{{data.picture}}" class="w-full h-[90%] object-contain drop-shadow-2xl">
    </div>
    <div>
      <div class="flex flex-col mt-10 px-5 pb-5">
        <h1 class="text-3xl font-bold">{{data.name}}</h1>
        <p class="mt-5 text-md text-gray-500">{{data.description}}</p>
        <div class="mt-5">
          <table>
            <tbody>
              <tr>
                <td class="font-semibold">
                  PUBLISHER:
                </td>
                <td class="px-20">
                  {{data.author.name}}
                </td>
              </tr>
              <tr>
                <td class="font-semibold">
                  ISBN:
                </td>
                <td class="px-20">
                  {{data.isbn}}
                </td>
              </tr>
              <tr>
                <td class="font-semibold">
                  CATEGORY:
                </td>
                <td class="px-20">
                  {{data.category.title}}
                </td>
              </tr>
              <tr>
                <td class="font-semibold">
                  Price:
                </td>
                <td class="px-20">
                  ${{data.price}}
                </td>
              </tr>
              <tr>
                <td class="font-semibold">
                  Stock:
                </td>
                <td class="px-20">
                  {{data.in_stock}}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="mt-10">
          {% if data.in_stock == 0%}
          <p class="bg-gray-400 text-gray-50 rounded-3xl py-3 px-10 w-fit cursor-not-allowed">Out of stock</p>
          {% elif alreadyRequestedBook %}
          <p class="bg-gray-400 text-gray-50 rounded-3xl py-3 px-10 w-fit cursor-not-allowed">Already Requested</p>
          {%else%}
          <a href="{{url_for('main.book_request',id=data.id)}}" class="bg-blue-400 text-white rounded-3xl py-3 px-10 drop-shadow-md">Request book</a>
          {%endif%}
          {% include 'partials/alert.html' %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}